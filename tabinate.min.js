$.fn.tabinate=function(e){function r(e){var n=window.location.hash;n=n.slice(1);n=n.replace(/^\!\//,"");var r=e.find("."+t.tabClass);e.find("li").removeClass(t.activeLinkClass);r.hide().removeClass(t.activeTabClass);if(n.length>0&&e.find("#"+n).length>0){$("#"+n+"."+t.tabClass).show();e.find("a[href='#"+n+"'], a[href='#!/"+n+"']").eq(0).closest("li").addClass(t.activeLinkClass)}else{e.find("ul:eq(0) li:eq("+t.startTab+")").addClass(t.activeLinkClass);r.eq(t.startTab).show().addClass(t.activeTabClass)}e.find("ul:eq(0) li").click(function(){e.find("ul:eq(0) li").not($(this)).removeClass(t.activeLinkClass);$(this).addClass(t.activeLinkClass);var n=$(this).find("a:eq(0)").attr("href");n="#"+n.replace(/^\#\!\//,"");if($(n).length>0)$(n).is(":hidden")&&r.removeClass(t.activeTabClass).hide(0,function(){$(n).show().addClass(t.activeTabClass)});else{eq=e.find("ul:eq(0) li").index(this);r.removeClass(t.activeTabClass).hide(0,function(){r.eq(eq).show().addClass(t.activeTabClass)})}if(t.bookmarks!=1)return!1})}var t=$.extend({activeLinkClass:"active",activeTabClass:"current-tab",bookmarks:!0,tabClass:"tab",startTab:0},e),n=this;n.each(function(e,t){t=$(t);r(t);window.onpopstate=function(){r(t)}})};